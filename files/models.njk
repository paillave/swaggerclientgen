//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

{% set dicoType={"integer":"number"} %}
{% macro entity(entityName, entityDefinition) %}
{% if not entityName.startsWith("ModelWithReferences[") %}
{{interface(entityName, entityDefinition)}}
{% endif %}
{% endmacro %}
{% macro interface(entityName, entityDefinition) %}
export interface I{{entityName}} {
{% for propertyName, propertyDefinition in entityDefinition.properties %}
    {{field(propertyName, propertyDefinition, entityDefinition)}}{% endfor %}
}
{% endmacro %}
{% macro isOptional(propertyName, entityDefinition) %}
{% if not entityDefinition.required or not entityDefinition.required.includes(propertyName) %}?{% endif %}
{% endmacro %}
{% macro dico() %}
{% endmacro %}
{% macro fieldType(propertyDefinition) %}
{% if propertyDefinition.additionalProperties and propertyDefinition.type=="object" %}
{
        [key: string]: {{fieldType(propertyDefinition.additionalProperties)}};
        [key: number]: {{fieldType(propertyDefinition.additionalProperties)}};
    }{% elif propertyDefinition["$ref"] %}
I{{propertyDefinition["$ref"]|replace("#/definitions/", "")}}{% elif propertyDefinition.type=="array" %}
[{{fieldType(propertyDefinition.items)}}]{% elif propertyDefinition.format=="date-time" %}
Date{% else %}
{{dicoType[propertyDefinition.type]|default(propertyDefinition.type)}}{% endif %}
{% endmacro %}
{% macro field(propertyName, propertyDefinition, entityDefinition) %}
{{propertyName}}{{isOptional(propertyName, entityDefinition)}}: {{fieldType(propertyDefinition)}};
{% endmacro %}
{% for entityName, entityDefinition in definitions %}
{{entity(entityName, entityDefinition)}}
{% endfor %}